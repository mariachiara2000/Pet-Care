<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PetCare ğŸ¾</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f6f7fb;
  padding:20px;
}

.hidden{display:none;}

.card{
  background:#fff;
  padding:16px;
  border-radius:18px;
  margin-bottom:16px;
}

button{
  padding:10px 14px;
  border:none;
  border-radius:12px;
  background:#ff9aa2;
  color:#fff;
  margin:4px;
}

.progress{
  background:#ddd;
  height:14px;
  border-radius:10px;
  overflow:hidden;
}

.progress-bar{
  height:100%;
  background:#8ed1fc;
}

.pet-box{
  text-align:center;
  position:relative;
}

.pet{
  transition:0.4s;
}

.grow{
  animation:grow 0.6s;
}

@keyframes grow{
  0%{transform:scale(1)}
  50%{transform:scale(1.3)}
  100%{transform:scale(1)}
}

.glow{
  text-shadow:0 0 12px gold;
}

.accessory{
  position:absolute;
  top:-5px;
  left:50%;
  transform:translateX(-50%);
  font-size:24px;
}
</style>
</head>

<body>

<!-- SETUP -->
<div id="setup" class="card hidden">
<h2>ğŸ£ Escolha seu pet</h2>
<button onclick="choosePet('ğŸ¶')">ğŸ¶</button>
<button onclick="choosePet('ğŸ±')">ğŸ±</button>
<button onclick="choosePet('ğŸ°')">ğŸ°</button>
<button onclick="choosePet('ğŸ£')">ğŸ£</button>
<br><br>
<button onclick="startGame()">ComeÃ§ar</button>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="card pet-box">
  <div id="accessoryEl" class="accessory"></div>
  <div id="petEmoji" class="pet"></div>
  <div>ğŸ§¬ NÃ­vel <span id="levelEl">1</span></div>
  â­ <span id="pointsEl">0</span> | ğŸ¥š <span id="eggsEl">0</span>
</div>

<div class="card">
ğŸ– <div class="progress"><div id="foodBar" class="progress-bar"></div></div>
ğŸ’§ <div class="progress"><div id="waterBar" class="progress-bar"></div></div>
ğŸ› <div class="progress"><div id="cleanBar" class="progress-bar"></div></div>
ğŸ˜´ <div class="progress"><div id="sleepBar" class="progress-bar"></div></div>
</div>

<div class="card">
<button onclick="care('food')">ğŸ–</button>
<button onclick="care('water')">ğŸ’§</button>
<button onclick="care('clean')">ğŸ›</button>
<button onclick="care('sleep')">ğŸ˜´</button>
</div>

<div class="card">
<h3>ğŸ£ Roupinhas</h3>
<button onclick="equip('ğŸ€')">ğŸ€</button>
<button onclick="equip('ğŸ§¢')">ğŸ§¢</button>
<button onclick="equip('ğŸ§£')">ğŸ§£</button>
</div>

<div class="card">
<h3>ğŸ¥š Ovos</h3>
<button onclick="hatchEgg()">Chocar ovo</button>
</div>

</div>

<script>
let pet = localStorage.getItem("pet");
let level = Number(localStorage.getItem("level"))||1;
let xp = Number(localStorage.getItem("xp"))||0;
let points = Number(localStorage.getItem("points"))||0;
let eggs = Number(localStorage.getItem("eggs"))||0;
let accessory = localStorage.getItem("accessory")||"";

let food=60,water=60,clean=60,sleepLv=60;

if(!pet) setup.classList.remove("hidden");
else init();

function choosePet(p){pet=p;}

function startGame(){
  save();
  init();
}

function init(){
  setup.classList.add("hidden");
  app.classList.remove("hidden");
  update();
  tick();
}

function updatePet(){
  let emoji = pet;
  if(pet==="ğŸ£" && level>=2) emoji="ğŸ¥";
  petEmoji.innerText = emoji;

  let size = 70 + level*20;
  petEmoji.style.fontSize = size+"px";

  accessoryEl.innerText = (pet==="ğŸ£"||pet==="ğŸ¥") ? accessory : "";

  if(level>=4) petEmoji.classList.add("glow");
}

function update(){
  foodBar.style.width=food+"%";
  waterBar.style.width=water+"%";
  cleanBar.style.width=clean+"%";
  sleepBar.style.width=sleepLv+"%";

  levelEl.innerText=level;
  pointsEl.innerText=points;
  eggsEl.innerText=eggs;

  updatePet();
  save();
}

function care(type){
  let ok=false;
  if(type==="food"&&food<80){food+=20;ok=true}
  if(type==="water"&&water<80){water+=20;ok=true}
  if(type==="clean"&&clean<80){clean=100;ok=true}
  if(type==="sleep"&&sleepLv<80){sleepLv=100;ok=true}

  if(ok){
    points+=5;
    xp+=10;
    if(Math.random()<0.2) eggs++;
    if(xp>=level*50){
      level++;
      petEmoji.classList.add("grow");
      setTimeout(()=>petEmoji.classList.remove("grow"),600);
      alert("âœ¨ Seu pet cresceu!");
    }
  }
  update();
}

function equip(item){
  if(pet==="ğŸ£"||pet==="ğŸ¥"){
    accessory=item;
    update();
  }
}

function hatchEgg(){
  if(eggs<=0){alert("Sem ovos");return;}
  eggs--;
  let r=Math.random();
  if(r<0.6) points+=20;
  else if(r<0.9) accessory="ğŸ€";
  else {points+=100; alert("âœ¨ Ovo raro!");}
  update();
}

function tick(){
  food-=0.2; water-=0.3; clean-=0.1; sleepLv-=0.15;
  update();
  setTimeout(tick,5000);
}

function save(){
  localStorage.setItem("pet",pet);
  localStorage.setItem("level",level);
  localStorage.setItem("xp",xp);
  localStorage.setItem("points",points);
  localStorage.setItem("eggs",eggs);
  localStorage.setItem("accessory",accessory);
}
</script>

</body>
</html>
