<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PetCare ğŸ¾</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f6f7fb;
    padding: 20px;
    transition: background 0.3s;
}

.hidden { display: none; }

.card {
    background: white;
    padding: 16px;
    border-radius: 16px;
    margin-bottom: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

button {
    padding: 8px 14px;
    border: none;
    border-radius: 10px;
    background: #ff9aa2;
    color: white;
    cursor: pointer;
    margin: 4px;
}

.progress {
    background: #ddd;
    border-radius: 10px;
    height: 16px;
    overflow: hidden;
}

.progress-bar {
    height: 100%;
    background: #8ed1fc;
}

.settings {
    position: fixed;
    top: 15px;
    right: 15px;
    font-size: 22px;
    cursor: pointer;
}

.pet {
    font-size: 64px;
    text-align: center;
    animation: happy 2s infinite;
}

.sad {
    animation: sad 1s infinite;
}

@keyframes happy {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

@keyframes sad {
    0% { transform: translateY(0); }
    50% { transform: translateY(5px); }
    100% { transform: translateY(0); }
}
</style>
</head>

<body>

<div class="settings" onclick="openSettings()">âš™ï¸</div>

<!-- SETUP -->
<div id="setup" class="card hidden">
    <h2>ğŸ£ Crie seu pet</h2>

    <button onclick="selectPet('ğŸ¶')">ğŸ¶</button>
    <button onclick="selectPet('ğŸ±')">ğŸ±</button>
    <button onclick="selectPet('ğŸ°')">ğŸ°</button>

    <p>CenÃ¡rio:</p>
    <button onclick="selectScene('#f6f7fb')">Claro</button>
    <button onclick="selectScene('#dbeafe')">Azul</button>

    <p>Nome:</p>
    <input id="petNameInput" placeholder="Nome do pet">

    <br><br>
    <button onclick="finishSetup()">Finalizar</button>
</div>

<!-- APP -->
<div id="app" class="hidden">

    <div class="card">
        <div id="petEmoji" class="pet"></div>
        <h2 id="petTitle"></h2>
        <p id="petMood">ğŸ˜Š Feliz</p>
        <p>â­ Pontos: <span id="points">0</span></p>
    </div>

    <div class="card">
        ğŸ– Fome
        <div class="progress"><div id="foodBar" class="progress-bar"></div></div>
        ğŸ’§ Sede
        <div class="progress"><div id="waterBar" class="progress-bar"></div></div>
        ğŸ› Higiene
        <div class="progress"><div id="cleanBar" class="progress-bar"></div></div>
        ğŸ˜´ Sono
        <div class="progress"><div id="sleepBar" class="progress-bar"></div></div>
    </div>

    <div class="card">
        <button onclick="feed()">ğŸ–</button>
        <button onclick="giveWater()">ğŸ’§</button>
        <button onclick="bath()">ğŸ›</button>
        <button onclick="sleep()">ğŸ˜´</button>
    </div>
</div>

<!-- CONFIG -->
<div id="settingsPanel" class="card hidden">
    <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
    <button onclick="resetApp()">ğŸ—‘ï¸ Resetar tudo</button>
    <button onclick="closeSettings()">Voltar</button>
</div>

<script>
let pet = localStorage.getItem("pet");
let scene = localStorage.getItem("scene");
let name = localStorage.getItem("name");
let points = Number(localStorage.getItem("points")) || 0;

let food = Number(localStorage.getItem("food")) || 100;
let water = Number(localStorage.getItem("water")) || 100;
let clean = Number(localStorage.getItem("clean")) || 100;
let sleepLv = Number(localStorage.getItem("sleep")) || 100;

if (!pet) setup.classList.remove("hidden");
else startApp();

function selectPet(p) { pet = p; }
function selectScene(s) { scene = s; document.body.style.background = s; }

function finishSetup() {
    name = petNameInput.value || "Meu Pet";
    saveAll();
    startApp();
}

function startApp() {
    setup.classList.add("hidden");
    app.classList.remove("hidden");
    document.body.style.background = scene || "#f6f7fb";
    petEmoji.innerText = pet;
    petTitle.innerText = pet + " " + name;
    updateUI();
    tick();
}

function tick() {
    food -= 0.2;
    water -= 0.3;
    clean -= 0.1;
    sleepLv -= 0.15;

    checkNeeds();
    updateUI();
    saveAll();

    setTimeout(tick, 5000);
}

function checkNeeds() {
    let bad = food < 30 || water < 30 || sleepLv < 30;
    petEmoji.classList.toggle("sad", bad);
    petMood.innerText = bad ? "ğŸ˜¢ Preciso de cuidado" : "ğŸ˜Š Feliz";

    if (bad) notify("Seu pet precisa de vocÃª ğŸ¾");
}

function notify(msg) {
    alert(msg); // simulaÃ§Ã£o (vira notificaÃ§Ã£o real no app)
}

function feed() { food = Math.min(100, food + 20); gainPoints(); }
function giveWater() { water = Math.min(100, water + 20); gainPoints(); }
function bath() { clean = 100; gainPoints(); }
function sleep() { sleepLv = 100; gainPoints(); }

function gainPoints() {
    points += 5;
    updateUI();
}

function updateUI() {
    foodBar.style.width = food + "%";
    waterBar.style.width = water + "%";
    cleanBar.style.width = clean + "%";
    sleepBar.style.width = sleepLv + "%";
    pointsEl = document.getElementById("points");
    pointsEl.innerText = points;
}

function openSettings() {
    app.classList.add("hidden");
    settingsPanel.classList.remove("hidden");
}

function closeSettings() {
    settingsPanel.classList.add("hidden");
    app.classList.remove("hidden");
}

function resetApp() {
    localStorage.clear();
    location.reload();
}

function saveAll() {
    localStorage.setItem("pet", pet);
    localStorage.setItem("scene", scene);
    localStorage.setItem("name", name);
    localStorage.setItem("points", points);
    localStorage.setItem("food", food);
    localStorage.setItem("water", water);
    localStorage.setItem("clean", clean);
    localStorage.setItem("sleep", sleepLv);
}
</script>

</body>
</html>
