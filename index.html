<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PetCare ğŸ¾</title>

<style>
body{font-family:Arial;background:#f6f7fb;padding:20px}
.card{background:#fff;padding:16px;border-radius:18px;margin-bottom:16px}
button{padding:8px 12px;border:none;border-radius:10px;background:#ff9aa2;color:#fff;margin:4px}
.pet-area{display:flex;justify-content:center;gap:40px;align-items:flex-end}
.pet{font-size:90px;position:relative}
.accessory{position:absolute;top:-10px;left:50%;transform:translateX(-50%)}
.egg{font-size:40px}
.hidden{display:none}
.inventory-item{border-bottom:1px solid #ddd;padding:6px}
.small{font-size:12px;color:#666}
.progress{background:#ddd;height:14px;border-radius:10px;overflow:hidden}
.progress-bar{height:100%;background:#ff9aa2}
#foodAnimEl{
  position:absolute;
  bottom:-20px;
  font-size:30px;
  animation:jump 0.8s;
}
@keyframes jump{
  0%{transform:translateY(0)}
  50%{transform:translateY(-20px)}
  100%{transform:translateY(0)}
}
.glow{text-shadow:0 0 8px gold}
</style>
</head>

<body>

<!-- SETUP -->
<div id="setup" class="card hidden">
<h2>Escolha seu pet</h2>
<button onclick="choosePet('ğŸ¶')">ğŸ¶</button>
<button onclick="choosePet('ğŸ±')">ğŸ±</button>
<button onclick="choosePet('ğŸ°')">ğŸ°</button>
<button onclick="choosePet('ğŸ£')">ğŸ£</button><br><br>
<button onclick="start()">ComeÃ§ar</button>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="card pet-area">
  <div class="pet">
    <div id="mainPetEl"></div>
    <div id="mainAcc" class="accessory"></div>
    <div id="foodAnimEl"></div>
  </div>

  <div id="cryingEgg" class="egg hidden">ğŸ¥šğŸ˜¢</div>

  <div class="pet">
    <div id="babyPetEl"></div>
    <div id="babyAcc" class="accessory"></div>
  </div>
</div>

<div class="card">
â­ Pontos: <span id="pointsEl">0</span>
<button onclick="getEgg()">ğŸ¥š Conseguir ovo</button>
</div>

<div class="card">
â¤ï¸ Carinho
<div class="progress"><div id="loveBar" class="progress-bar"></div></div>
<button onclick="giveLove()">â¤ï¸ Dar carinho</button>
</div>

<div class="card">
<h3>ğŸ’ InventÃ¡rio</h3>
<div id="inventory"></div>
</div>

<div class="card">
<h3>ğŸ›ï¸ Loja</h3>
<button onclick="buy('ğŸ€',50)">ğŸ€ 50â­</button>
<button onclick="buy('ğŸ§¸',70)">ğŸ§¸ 70â­</button>
<button onclick="buy('â­ï¸',100)">â­ï¸ 100â­</button><br>
<button onclick="buy('ğŸ',10)">ğŸ</button>
<button onclick="buy('ğŸ',10)">ğŸ</button>
<button onclick="buy('ğŸŠ',10)">ğŸŠ</button>
<button onclick="buy('ğŸ‹',10)">ğŸ‹</button>
<button onclick="buy('ğŸ',10)">ğŸ</button>
<p class="small">ğŸğŸğŸŠğŸ‹ğŸ = comida decorativa</p>
</div>

</div>

<script>
let pets=["ğŸ¶","ğŸ±","ğŸ°","ğŸ£"];
let mainPet=localStorage.getItem("mainPet");
let babyPet=localStorage.getItem("babyPet");

let points=Number(localStorage.getItem("points"))||100;
let love=Number(localStorage.getItem("love"))||70;

let accessories=JSON.parse(localStorage.getItem("accessories"))||{};
let rareAccessory=localStorage.getItem("rareAccessory")||"";

let egg=JSON.parse(localStorage.getItem("egg"))||null;
let crying=true;
let lastToyUse=0;

if(!mainPet) setup.classList.remove("hidden");
else init();

function choosePet(p){mainPet=p}
function start(){save();init()}

function init(){
setup.classList.add("hidden");
app.classList.remove("hidden");
update();
setInterval(gameTick,1000);
}

function gameTick(){
love=Math.max(0,love-0.05);
if(rareAccessory) love=Math.min(100,love+0.02);
updateEgg();
update();
}

function getEgg(){
if(egg){alert("VocÃª jÃ¡ tem um ovo");return;}
let r=Math.random(),type,time;
if(r<0.6){type="ğŸ¥š";time=5*60*1000;}
else if(r<0.9){type="âœ¨ğŸ¥š";time=60*60*1000;}
else{type="ğŸŒˆğŸ¥š";time=5*60*60*1000;}
egg={type,start:Date.now(),time};
crying=true;
update();
}

function updateEgg(){
if(!egg)return;
if(Date.now()-egg.start>=egg.time) crying=false;
renderInventory();
}

function hatch(){
if(Date.now()-egg.start<egg.time){alert("Ainda nÃ£o chocou");return;}
let available=pets.filter(p=>p!==mainPet);
babyPet=available[Math.floor(Math.random()*available.length)];
egg=null;
save();
update();
}

function giveLove(){
if(love<90){love+=20;points+=5;}
update();
}

function buy(item,cost){
if(points<cost){alert("Sem pontos");return;}
points-=cost;

if(["ğŸ","ğŸ","ğŸŠ","ğŸ‹","ğŸ"].includes(item)){
foodAnimEl.innerText=item;
setTimeout(()=>foodAnimEl.innerText="",800);
}
else if(item==="ğŸ§¸"){
let now=Date.now();
if(now-lastToyUse>60000){
love=Math.min(100,love+10);
lastToyUse=now;
accessories[mainPet]="ğŸ§¸";
}
}
else if(item==="ğŸ€"){
accessories[mainPet]="ğŸ€";
}
else if(item==="â­ï¸"){
let r=Math.random();
if(r<0.3){rareAccessory="âœ¨ğŸ€";}
else if(r<0.6){points+=50;}
}
save();update();
}

function renderInventory(){
inventory.innerHTML="";
if(egg){
let left=Math.ceil((egg.time-(Date.now()-egg.start))/1000);
inventory.innerHTML=`
<div class="inventory-item">
${egg.type} â³ ${left}s
<button onclick="hatch()">Chocar</button>
</div>`;
}
}

function update(){
mainPetEl.innerText=mainPet+(love<30?" ğŸ˜¢":"");
babyPetEl.innerText=babyPet||"";
mainAcc.innerText=rareAccessory||accessories[mainPet]||"";
mainAcc.classList.toggle("glow",!!rareAccessory);
babyAcc.innerText=accessories[babyPet]||"";
pointsEl.innerText=points;
loveBar.style.width=love+"%";
cryingEgg.classList.toggle("hidden",!egg||!crying);
renderInventory();
save();
}

function save(){
localStorage.setItem("mainPet",mainPet);
localStorage.setItem("babyPet",babyPet);
localStorage.setItem("points",points);
localStorage.setItem("love",love);
localStorage.setItem("accessories",JSON.stringify(accessories));
localStorage.setItem("rareAccessory",rareAccessory);
localStorage.setItem("egg",JSON.stringify(egg));
}
</script>

</body>
</html>
