<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PetCare ğŸ¾</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f6f7fb;
  padding: 20px;
  transition: background 0.4s;
}

.hidden { display: none; }

.card {
  background: white;
  padding: 16px;
  border-radius: 18px;
  margin-bottom: 16px;
}

button {
  padding: 10px 14px;
  border: none;
  border-radius: 12px;
  background: #ff9aa2;
  color: white;
  margin: 4px;
  cursor: pointer;
}

.progress {
  background: #ddd;
  height: 14px;
  border-radius: 10px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: #8ed1fc;
}

.pet-box {
  text-align: center;
  position: relative;
}

.pet {
  transition: transform 0.4s;
}

.glow {
  text-shadow: 0 0 12px gold;
}

.accessory {
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 28px;
}

.rare {
  box-shadow: 0 0 10px gold;
}

.level {
  font-size: 14px;
  color: #777;
}
</style>
</head>

<body>

<!-- SETUP -->
<div id="setup" class="card hidden">
  <h2>ğŸ£ Escolha seu pet</h2>
  <button onclick="choosePet('ğŸ¶')">ğŸ¶</button>
  <button onclick="choosePet('ğŸ±')">ğŸ±</button>
  <button onclick="choosePet('ğŸ°')">ğŸ°</button>
  <button onclick="choosePet('ğŸ¥')">ğŸ¥</button>
  <br><br>
  <input id="petName" placeholder="Nome do pet">
  <br><br>
  <button onclick="startGame()">ComeÃ§ar</button>
</div>

<!-- APP -->
<div id="app" class="hidden">

<div class="card pet-box">
  <div id="accessoryEl" class="accessory"></div>
  <div id="petEmoji" class="pet"></div>
  <div class="level">ğŸ§¬ NÃ­vel <span id="levelEl">1</span></div>
  â­ Pontos: <span id="pointsEl">0</span>
</div>

<div class="card">
ğŸ– <div class="progress"><div id="foodBar" class="progress-bar"></div></div>
ğŸ’§ <div class="progress"><div id="waterBar" class="progress-bar"></div></div>
ğŸ› <div class="progress"><div id="cleanBar" class="progress-bar"></div></div>
ğŸ˜´ <div class="progress"><div id="sleepBar" class="progress-bar"></div></div>
</div>

<div class="card">
<button onclick="care('food')">ğŸ–</button>
<button onclick="care('water')">ğŸ’§</button>
<button onclick="care('clean')">ğŸ›</button>
<button onclick="care('sleep')">ğŸ˜´</button>
</div>

</div>

<script>
let pet = localStorage.getItem("pet");
let name = localStorage.getItem("name");
let points = Number(localStorage.getItem("points")) || 0;
let level = Number(localStorage.getItem("level")) || 1;
let xp = Number(localStorage.getItem("xp")) || 0;

let food = Number(localStorage.getItem("food")) || 60;
let water = Number(localStorage.getItem("water")) || 60;
let clean = Number(localStorage.getItem("clean")) || 60;
let sleepLv = Number(localStorage.getItem("sleepLv")) || 60;

if (!pet) setup.classList.remove("hidden");
else init();

function choosePet(p){ pet = p; }

function startGame(){
  name = petName.value || "Meu Pet";
  save();
  init();
}

function init(){
  setup.classList.add("hidden");
  app.classList.remove("hidden");
  updatePet();
  update();
  tick();
}

function updatePet(){
  petEmoji.innerText = pet;

  let size = 80;
  if(level>=2) size = 110;
  if(level>=3) size = 150;
  if(level>=4) petEmoji.classList.add("glow");

  petEmoji.style.fontSize = size + "px";
}

function update(){
  foodBar.style.width = food + "%";
  waterBar.style.width = water + "%";
  cleanBar.style.width = clean + "%";
  sleepBar.style.width = sleepLv + "%";

  pointsEl.innerText = points;
  levelEl.innerText = level;

  updatePet();
  save();
}

function care(type){
  let valid=false;

  if(type==="food" && food<80){food+=20;valid=true}
  if(type==="water" && water<80){water+=20;valid=true}
  if(type==="clean" && clean<80){clean=100;valid=true}
  if(type==="sleep" && sleepLv<80){sleepLv=100;valid=true}

  if(valid){
    points += 5;
    xp += 10;
    if(xp >= level*50){
      level++;
      alert("ğŸ§¬ Seu pet cresceu!");
    }
  } else {
    alert("âŒ Seu pet nÃ£o precisa disso agora");
  }

  update();
}

function tick(){
  food -= 0.2;
  water -= 0.3;
  clean -= 0.1;
  sleepLv -= 0.15;
  update();
  setTimeout(tick, 5000);
}

function save(){
  localStorage.setItem("pet",pet);
  localStorage.setItem("name",name);
  localStorage.setItem("points",points);
  localStorage.setItem("level",level);
  localStorage.setItem("xp",xp);
  localStorage.setItem("food",food);
  localStorage.setItem("water",water);
  localStorage.setItem("clean",clean);
  localStorage.setItem("sleepLv",sleepLv);
}
</script>

</body>
</html>
